<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="1.1" DspName="Microsoft.Data.Schema.Sql.Sql100DatabaseSchemaProvider" CollationLcid="2057" CollationCaseSensitive="False">
	<Header>
		<CustomData Category="ModelCapability">
			<Metadata Name="ModelCapability" Value="Default" />
		</CustomData>
		<CustomData Category="ClrTypesDbSchema" Type="DbSchema">
			<Metadata Name="ClrTypesDbSchema" Value="True" />
		</CustomData>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="100" />
		</CustomData>
		<CustomData Category="Permissions" Type="XmlPermissions">
			<Metadata Name="FileName" Value="D:\SJP\CODEBASE\SJP\DATABASES\SJPTRANSIENTPORTAL\PROPERTIES\DATABASE.SQLPERMISSIONS" />
		</CustomData>
		<CustomData Category="Reference" Type="DbSchema">
			<Metadata Name="FileName" Value="D:\SJP\CODEBASE\SJP\DATABASES\SJPSERVERDATABASE\SQL\DEBUG\SJPSERVERDATABASE.DBSCHEMA" />
			<Metadata Name="LogicalName" Value="SJPServerDatabase.dbschema" />
			<Metadata Name="ExternalParts" Value="[master]" />
			<Metadata Name="SuppressMissingDependenciesErrors" Value="True" />
		</CustomData>
	</Header>
	<Model>
		<Element Type="ISql100DatabaseOptions">
			<Property Name="Collation" Value="Latin1_General_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="RecoveryMode" Value="1" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsDataSources].[DataSourceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[SJP_User]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_datareader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[SJP_User]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_datawriter]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[AddChangeNotificationTable]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	-- Add tables that didn't previously exist
	IF NOT EXISTS (SELECT * FROM [dbo].[ChangeNotification]
						   WHERE [table] = @table)
		BEGIN
			INSERT INTO [dbo].[ChangeNotification] ([table], [version])
				 VALUES (@table, 1)
		END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ChangeNotification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddChangeNotificationTable].[@table]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Version]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[AddChangeNotificationTable].[@table]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="334" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddChangeNotificationTable]&#xD;&#xA;&#x9;@table varchar(100) &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[AdminAreas]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[AdministrativeAreaCode]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[AtcoAreaCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[AreaName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[AreaNameLang]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[ShortName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[ShortNameLang]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[Country]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[RegionCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[MaximumLengthForShortNames ]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[National]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[ContactEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[ContactTelephone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[CreationDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[ModificationDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[RevisionNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[AdminAreas].[Modification]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ChangeNotification]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ChangeNotification].[Version]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ChangeNotification].[Table]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[CycleAttribute]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[CycleAttributeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[Type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[Group]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[Category]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[ResourceName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[Mask]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[CycleInfrastructure]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[CycleRecommendedRoute]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CycleAttribute].[ShowAttribute]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Districts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[DistrictCode]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[DistrictName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[DistrictLang]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[AdministrativeAreaCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[CreationDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[ModificationDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[RevisionNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Districts].[Modification]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[DropDownLists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DropDownLists].[DataSet]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DropDownLists].[ResourceID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DropDownLists].[ItemValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DropDownLists].[IsSelected]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DropDownLists].[SortOrder]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_TravelNews_TravelNewsSeverity]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevel]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_TravelNewsDataSource_TravelNews]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[UID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_TravelNewsRegion_TravelNews]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[TravelNewsRegion].[UID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsRegion]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[fn_TravelNewsRegion]">
			<Property Name="ReturnTableVariable" Value="@TravelNewsRegion" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsRegion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsRegion].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsRegion].[RegionName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fn_TravelNewsRegion].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fn_TravelNewsRegion].[Regions]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[fn_TravelNewsRegion].[UID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[fn_TravelNewsRegion].[Regions]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @UID varchar(25)
	DECLARE @RegionName varchar(25)
	DECLARE @LastUID varchar(25)
	DECLARE @Regions varchar(200)
	
	DECLARE LocalCursor CURSOR FORWARD_ONLY READ_ONLY FOR
	SELECT
		UID,
		RegionName
	FROM TravelNewsRegion
	ORDER BY UID, RegionName
	
	OPEN LocalCursor
	
	SET @LastUID = ''
	FETCH NEXT FROM LocalCursor INTO @UID, @RegionName
	
	WHILE @@Fetch_Status <> -1
	BEGIN
		IF @@Fetch_Status <> -2
		BEGIN
			IF @UID = @LastUID
				SET @Regions = @Regions + ', ' + @RegionName
			ELSE
				SET @Regions = @RegionName
		END
		
		SET @LastUID = @UID
		
		FETCH NEXT FROM LocalCursor INTO @UID, @RegionName
		
		IF @@Fetch_Status <> -1 AND @@Fetch_Status <> -2
		BEGIN
			IF @UID <> @LastUID
			BEGIN
				INSERT INTO @TravelNewsRegion
				(
					UID,
					Regions
				)
				VALUES
				(
					@LastUID,
					@Regions
				)
				
				SET @Regions = ''
			END
		END
		ELSE IF LEN(@Regions) > 0
		BEGIN
			INSERT INTO @TravelNewsRegion
			(
				UID,
				Regions
			)
			VALUES
			(
				@LastUID,
				@Regions
			)
			
			SET @Regions = ''
		END
	END
	
	CLOSE LocalCursor
	DEALLOCATE LocalCursor
	
	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1324" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[fn_TravelNewsRegion]&#xD;&#xA;(&#xD;&#xA;)&#xD;&#xA;RETURNS @TravelNewsRegion TABLE&#xD;&#xA;(&#xD;&#xA;&#x9;UID varchar(25),&#xD;&#xA;&#x9;Regions varchar(200)&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetChangeTable]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	  SELECT [Table], [Version] 
	    FROM [dbo].[ChangeNotification]
	ORDER BY [Table]
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ChangeNotification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Version]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="146" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetChangeTable]&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetCycleAttributes]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

    SELECT      [CycleAttributeId],
                [Type], -- the type (Link or Node)
                [Group],  -- the group representing the attibute integer position in the attributes list
                [Category], -- the category of the attribute
                [ResourceName], 
            	[Mask],
				[CycleInfrastructure],
				[CycleRecommendedRoute]
    FROM        [CycleAttribute]
    WHERE       [ShowAttribute] = 1

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CycleAttribute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[CycleAttributeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[Group]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[Category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[ResourceName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[Mask]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[CycleInfrastructure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[CycleRecommendedRoute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CycleAttribute].[ShowAttribute]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="505" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE  PROCEDURE [dbo].[GetCycleAttributes]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetNPTGAdminAreas]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT [AdministrativeAreaCode]
		  ,[AreaName]
		  ,[Country]
		  ,[RegionCode]
	 FROM [dbo].[AdminAreas]
	 WHERE [Country] != 'GRE'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AdminAreas]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AdminAreas].[AdministrativeAreaCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AdminAreas].[AreaName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AdminAreas].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AdminAreas].[RegionCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="197" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetNPTGAdminAreas]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetNPTGDistricts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT [DistrictCode]
      ,[DistrictName]
      ,[AdministrativeAreaCode]
	FROM [dbo].[Districts]
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Districts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Districts].[DistrictCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Districts].[DistrictName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Districts].[AdministrativeAreaCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="160" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetNPTGDistricts]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetRouteEnds]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

		SELECT  r.[RouteID]
			   ,r.[RouteName]
			   ,res.[NaPTAN]
			   ,res.[IsEndA] as [StopIsEndA]
			   ,rez.[ZoneID] 
			   ,rez.[IsEndA] as [ZoneIsEndA]
		  FROM [dbo].[SJPRoutes] r
	 LEFT JOIN [dbo].[SJPRouteEndStops] res
			ON r.[RouteID] = res.[RouteID]
	 LEFT JOIN [dbo].[SJPRouteEndZones] rez
			ON r.[RouteID] = rez.[RouteID]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPRoutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops].[NaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops].[IsEndA]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones].[IsEndA]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="403" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetRouteEnds]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetRoutes]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

		SELECT  r.[RouteID]
			   ,r.[RouteName]
			   ,rm.[ModeOfTransport]
			   ,rm.[IsExcluded]
		  FROM [dbo].[SJPRoutes] r
	 LEFT JOIN [dbo].[SJPRouteModes] rm
			ON r.[RouteID] = rm.[RouteID]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPRoutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes].[IsExcluded]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="254" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetRoutes]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetStopAccessibilityLinks]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SELECT  [StopNaPTAN],
			[StopOperator],
			[LinkUrl],
			[WEFDate],
			[WEUDate]
	  FROM  [dbo].[StopAccessibilityLinks]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[StopNaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[StopOperator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[LinkUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[WEFDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[WEUDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="202" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetStopAccessibilityLinks]&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetTravelcards]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	 SELECT	 tc.[TravelCardID]
			,tc.[TravelCardName]
			,tc.[ValidFrom]
			,tc.[ValidTo]
			,tcz.[ZoneID]
			,tcz.[IsExcluded] as [ZoneExcluded]
			,tcr.[RouteID]
			,tcr.[IsExcluded] as [RouteExcluded]
	   FROM [dbo].[SJPTravelcards] tc
  LEFT JOIN [dbo].[SJPTravelcardZones] tcz
		 ON tc.[TravelCardID] = tcz.[TravelCardID]
  LEFT JOIN [dbo].[SJPTravelcardRoutes] tcr
		 ON tc.[TravelCardID] = tcr.[TravelCardID]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPTravelcards]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[TravelCardName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[ValidFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[ValidTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones].[IsExcluded]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes].[IsExcluded]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="486" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetTravelcards]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetUndergroundStatus]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	 SELECT [LineStatusId],
			[LineStatusDetails],
			[LineId],
			[LineName],
			[StatusId],
			[StatusDescription],
			[StatusIsActive],
			[StatusCssClass] 
	   FROM	[dbo].[UndergroundStatus]
   ORDER BY [LineName]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[UndergroundStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineStatusDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusIsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusCssClass]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="291" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetUndergroundStatus]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetZoneModes]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

		SELECT  z.[ZoneID]
			   ,zm.[ModeOfTransport]
			   ,zm.[IsExcluded]
		  FROM [dbo].[SJPZones] z
	 LEFT JOIN [dbo].[SJPZoneModes] zm
			ON z.[ZoneID] = zm.[ZoneID]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes].[IsExcluded]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="230" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetZoneModes]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetZones]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

		 SELECT  z.[ZoneID]
				,z.[ZoneName]
				,za.[ZoneAreaID]
				,za.[IsOuterZoneArea]
				,zap.[Easting]
				,zap.[Northing]
		   FROM [dbo].[SJPZones] z
	  LEFT JOIN [dbo].[SJPZoneAreas] za
			 ON z.[ZoneID] = za.[ZoneID]
	  LEFT JOIN [dbo].[SJPZoneAreaPoints] zap
			 ON za.[ZoneAreaID] = zap.[ZoneAreaID]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas].[ZoneAreaID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints].[ZoneAreaID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas].[IsOuterZoneArea]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints].[Easting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints].[Northing]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="373" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetZones]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetZoneStops]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

		 SELECT  z.[ZoneID]
				,zs.[NaPTAN]
				,zs.[IsExcluded]
		   FROM [dbo].[SJPZones] z
	  LEFT JOIN [dbo].[SJPZoneStops] zs
		     ON z.[ZoneID] = zs.[ZoneID]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops].[NaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops].[IsExcluded]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="224" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetZoneStops]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ImportSJPStopAccessibilityLinks]">
			<Property Name="BodyScript">
				<Value><![CDATA[
/*
SP Name: [ImportSJPStopAccessibilityLinks]
Input : XML
Output: None
Description:  It takes XML data as string and inserts the data into StopAccessibilityLinks
*/

SET NOCOUNT ON

DECLARE @DocID int, @XMLPathData varchar(100)

-- Loading xml document 
EXEC sp_xml_preparedocument @DocID OUTPUT, @XML
-- setting the node 
SET @XMLPathData =  '/StopAccessibilityLinks/StopAccessibilityLink'

DECLARE @RowCount int
DECLARE @PrimaryStopNaPTAN NVARCHAR (20)
DECLARE @StopName NVARCHAR (100)
DECLARE @StopOperator char (10)
DECLARE @LinkUrl NVARCHAR (300)
DECLARE @WEFDate DATE
DECLARE @WEUDate DATE
DECLARE @OtherNaPTANs VARCHAR (200)
DECLARE @StopNaPTAN VARCHAR (20)

-- starting trasaction 
BEGIN TRANSACTION

	-- Delete from SJP StopAccessibilityLinks table
	DELETE FROM [dbo].[StopAccessibilityLinks]

	-- Insert SJP StopAccessibilityLinks data
	INSERT INTO [dbo].[StopAccessibilityLinks](
		 [StopNaPTAN]
		,[StopName]
		,[StopOperator]
		,[LinkUrl]
		,[WEFDate]
		,[WEUDate])
	SELECT
			X.[PrimaryStopNaPTAN]
           ,X.[StopName] 
           ,X.[StopOperator]
           ,X.[LinkUrl]
           ,CAST ((X.[WEFDate]) AS DATE)
           ,CAST ((X.[WEUDate]) AS DATE)
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[PrimaryStopNaPTAN] [NVARCHAR] (20),
		[StopName] [NVARCHAR] (100),
		[StopOperator] [char] (10),
		[LinkUrl] [NVARCHAR] (300),
		[WEFDate] [DATE],
		[WEUDate] [DATE]
	) X 
	
	-- Insert the OtherNaPTAN rows containing the same details as its PrimaryStopNaPTAN
	DECLARE otherNaPTANs_cursor CURSOR FOR
	SELECT 
		ISNULL(LTRIM(RTRIM(X.[PrimaryStopNaPTAN])), '') , 
		ISNULL(LTRIM(RTRIM(X.[OtherNaPTAN])), '')
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	
		[PrimaryStopNaPTAN] [NVARCHAR] (20),
		[OtherNaPTAN] [NVARCHAR] (200)
	) X

	WHERE LEN(ISNULL(LTRIM(RTRIM(X.[OtherNaPTAN])), '')) >0
	
		SET @RowCount = 0 
		OPEN otherNaPTANs_cursor
		-- Perform the first fetch
		FETCH NEXT FROM otherNaPTANs_cursor 	
				   INTO  @PrimaryStopNaPTAN
						,@OtherNaPTANs
		WHILE @@FETCH_STATUS = 0
		BEGIN
		-- Check @@FETCH_STATUS to see if there are any more rows to fetch.
			
			-- This is executed as long as the previous fetch succeeds.
			SELECT @StopName = [StopName],
				   @StopOperator = [StopOperator], 
				   @LinkUrl = [LinkUrl], 
				   @WEFDate = [WEFDate],
				   @WEUDate = [WEUDate] 
			  FROM [dbo].[StopAccessibilityLinks] 
			 WHERE [StopNaPTAN] = @PrimaryStopNaPTAN
					
			IF LEN(@OtherNaPTANs) > 0 
			BEGIN
					-- Split the naptans and insert the rows
					DECLARE otherNaptan_cursor CURSOR FOR
					SELECT [Value] FROM [dbo].SJPSPlit(@OtherNaPTANs, '|')
					
					OPEN otherNaptan_cursor
				
					FETCH NEXT FROM otherNaptan_cursor 	INTO @StopNaPTAN
					
					WHILE @@FETCH_STATUS = 0
					BEGIN					
						SET @StopNaPTAN = dbo.StripNaptan(@StopNaPTAN, '|')
						
						INSERT INTO [dbo].[StopAccessibilityLinks]([StopNaPTAN],[StopName],[StopOperator],[LinkUrl],[WEFDate],[WEUDate])
						VALUES (@StopNaPTAN, @StopName, @StopOperator, @LinkUrl, @WEFDate, @WEUDate)
						
						FETCH NEXT FROM otherNaptan_cursor 	INTO @StopNaPTAN
					END
					
					CLOSE otherNaptan_cursor
					DEALLOCATE otherNaptan_cursor
	 		
			END 
		
			SET @RowCount = @RowCount + 1
			
			FETCH NEXT FROM otherNaPTANs_cursor
					   INTO  @PrimaryStopNaPTAN
							,@OtherNaPTANs
		END

	CLOSE otherNaPTANs_cursor
	DEALLOCATE otherNaPTANs_cursor
		
IF (@RowCount > 0)
		COMMIT TRANSACTION 
	ELSE
		ROLLBACK TRANSACTION
		
-- Removing xml doc from memory
EXEC sp_xml_removedocument @DocID]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[ImportSJPStopAccessibilityLinks].[@XML]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[StopNaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[StopName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[StopOperator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[LinkUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[WEFDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks].[WEUDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPSplit].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StripNaptan]" />
				</Entry>
				<Entry />
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ImportSJPStopAccessibilityLinks].[@XML]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3735" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE  PROCEDURE [dbo].[ImportSJPStopAccessibilityLinks]&#xD;&#xA;(&#xD;&#xA;&#x9;@XML text&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ImportSJPTravelcardData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
/*
SP Name: [ImportSJPTravelcardData]
Input : XML
Output: None
Description:  It takes XML data as string and inserts the data into [SJPTravelcards]
*/

SET NOCOUNT ON

DECLARE @DocID int, @XMLPathData varchar(200)

-- Loading xml document 
EXEC sp_xml_preparedocument @DocID OUTPUT, @XML

-- starting trasaction 
BEGIN TRANSACTION

	-- Delete existing data
	DELETE FROM [dbo].[SJPZoneAreaPoints]
	DELETE FROM [dbo].[SJPZoneAreas]
	DELETE FROM [dbo].[SJPZoneModes]
	DELETE FROM [dbo].[SJPZoneStops]
	DELETE FROM [dbo].[SJPZones]

	DELETE FROM [dbo].[SJPRouteEndStops]
	DELETE FROM [dbo].[SJPRouteEndZones]
	DELETE FROM [dbo].[SJPRouteModes]
	DELETE FROM [dbo].[SJPRoutes]

	DELETE FROM [dbo].[SJPTravelcardZones]
	DELETE FROM [dbo].[SJPTravelcardRoutes]
	DELETE FROM [dbo].[SJPTravelcards]

	--------------------------------ZONES-----------------------------------
	-- Insert SJPZones data
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone'

	INSERT INTO [dbo].[SJPZones](
		 [ZoneID]
		,[ZoneName])
	SELECT
			X.[ZoneID]
           ,X.[ZoneName] 
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[ZoneID] [NVARCHAR] (20),
		[ZoneName] [NVARCHAR] (50)
	) X 
	
	-- Insert SJPZoneAreas data (Outer zone)
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/OuterZoneBoundary'

	INSERT INTO [dbo].[SJPZoneAreas](
		 [ZoneAreaID]
		,[ZoneID]
		,[IsOuterZoneArea])
	SELECT
			X.[ZoneAreaID] + '_OUT' -- Indicate it is the outer zone
		   ,X.[ZoneID]
           ,1 -- True
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneAreaID] [NVARCHAR] (20) '../../ZoneID',
		[ZoneID] [NVARCHAR] (20) '../../ZoneID'
	) X 
	
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/OuterZoneBoundary/Point'

	INSERT INTO [dbo].[SJPZoneAreaPoints](
		 [ZoneAreaID]
		,[Easting]
		,[Northing])
	SELECT
			X.[ZoneAreaID] + '_OUT' -- Indicate it is the outer zone
		   ,X.[Easting]
           ,X.[Northing]
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneAreaID] [NVARCHAR] (20) '../../../ZoneID',
		[Easting] INT,
		[Northing] INT
	) X 
	
	-- Insert SJPZoneAreas data (Inner zone)
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/InnerZoneBoundary'

	INSERT INTO [dbo].[SJPZoneAreas](
		 [ZoneAreaID]
		,[ZoneID]
		,[IsOuterZoneArea])
	SELECT
			X.[ZoneAreaID] + '_IN' -- Indicate it is the outer zone
		   ,X.[ZoneID]
           ,1 -- True
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneAreaID] [NVARCHAR] (20) '../../ZoneID',
		[ZoneID] [NVARCHAR] (20) '../../ZoneID'
	) X 
	
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/InnerZoneBoundary/Point'

	INSERT INTO [dbo].[SJPZoneAreaPoints](
		 [ZoneAreaID]
		,[Easting]
		,[Northing])
	SELECT
			X.[ZoneAreaID] + '_IN' -- Indicate it is the inner zone
		   ,X.[Easting]
           ,X.[Northing]
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneAreaID] [NVARCHAR] (20) '../../../ZoneID',
		[Easting] INT,
		[Northing] INT
	) X 
	
	-- Insert SJPZoneModes data
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/ZoneAreaModesIncluded/Mode'

	INSERT INTO [dbo].[SJPZoneModes](
		 [ZoneID]
		,[ModeOfTransport]
		,[IsExcluded])
	SELECT
		    X.[ZoneID]
		   ,X.[Mode]
           ,0 -- Included modes
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneID] [NVARCHAR] (20) '../../../ZoneID',
		[Mode] [NVARCHAR] (20) 'text()'
	) X 

	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/ZoneAreaModesExcluded/Mode'

	INSERT INTO [dbo].[SJPZoneModes](
		 [ZoneID]
		,[ModeOfTransport]
		,[IsExcluded])
	SELECT
		    X.[ZoneID]
		   ,X.[Mode]
           ,1 -- Excluded modes
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneID] [NVARCHAR] (20) '../../../ZoneID',
		[Mode] [NVARCHAR] (20) 'text()'
	) X 
	
	-- Insert SJPZoneStops data
	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/ZoneStopsIncluded/StopID'

	INSERT INTO [dbo].[SJPZoneStops](
		 [ZoneID]
		,[NaPTAN]
		,[IsExcluded])
	SELECT
		    X.[ZoneID]
		   ,X.[StopID]
           ,0 -- Included stops
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneID] [NVARCHAR] (20) '../../../ZoneID',
		[StopID] [NVARCHAR] (20) 'text()'
	) X 

	SET @XMLPathData =  '/SJPTravelCards/Zones/Zone/ZoneArea/ZoneStopsExcluded/StopID'

	INSERT INTO [dbo].[SJPZoneStops](
		 [ZoneID]
		,[NaPTAN]
		,[IsExcluded])
	SELECT
		    X.[ZoneID]
		   ,X.[StopID]
           ,1 -- Excluded stops
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[ZoneID] [NVARCHAR] (20) '../../../ZoneID',
		[StopID] [NVARCHAR] (20) 'text()'
	) X 
	
	--------------------------------ROUTES-----------------------------------
	-- Insert SJPRoutes data
	SET @XMLPathData =  '/SJPTravelCards/Routes/Route'

	INSERT INTO [dbo].[SJPRoutes](
		 [RouteID]
		,[RouteName])
	SELECT
			X.[RouteID]
           ,X.[RouteName] 
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[RouteID] [NVARCHAR] (20),
		[RouteName] [NVARCHAR] (50)
	) X 

	-- Insert SJPRouteEndZones data
	SET @XMLPathData =  '/SJPTravelCards/Routes/Route/EndA/RouteEnd/RouteZones/ZoneID'

	INSERT INTO [dbo].[SJPRouteEndZones](
		 [RouteID]
		,[ZoneID]
		,[IsEndA])
	SELECT
			X.[RouteID]
           ,X.[ZoneID]
		   ,1	-- This is End A
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[RouteID] [NVARCHAR] (20) '../../../../RouteID',
		[ZoneID] [NVARCHAR] (20) 'text()'
	) X 

	SET @XMLPathData =  '/SJPTravelCards/Routes/Route/EndB/RouteEnd/RouteZones/ZoneID'

	INSERT INTO [dbo].[SJPRouteEndZones](
		 [RouteID]
		,[ZoneID]
		,[IsEndA])
	SELECT
			X.[RouteID]
           ,X.[ZoneID]
		   ,0	-- This is End B
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[RouteID] [NVARCHAR] (20) '../../../../RouteID',
		[ZoneID] [NVARCHAR] (20) 'text()'
	) X 

	-- Insert SJPRouteEndStops data
	SET @XMLPathData =  '/SJPTravelCards/Routes/Route/EndA/RouteEnd/RouteStops/StopID'

	INSERT INTO [dbo].[SJPRouteEndStops](
		 [RouteID]
		,[NaPTAN]
		,[IsEndA])
	SELECT
			X.[RouteID]
           ,X.[StopID]
		   ,1	-- This is End A
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[RouteID] [NVARCHAR] (20) '../../../../RouteID',
		[StopID] [NVARCHAR] (20) 'text()'
	) X 

	SET @XMLPathData =  '/SJPTravelCards/Routes/Route/EndB/RouteEnd/RouteStops/StopID'

	INSERT INTO [dbo].[SJPRouteEndStops](
		 [RouteID]
		,[NaPTAN]
		,[IsEndA])
	SELECT
			X.[RouteID]
           ,X.[StopID]
		   ,0	-- This is End B
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[RouteID] [NVARCHAR] (20) '../../../../RouteID',
		[StopID] [NVARCHAR] (20) 'text()'
	) X 

	-- Insert SJPRouteModes data
	SET @XMLPathData =  '/SJPTravelCards/Routes/Route/RouteModesIncluded/Mode'

	INSERT INTO [dbo].[SJPRouteModes](
		 [RouteID]
		,[ModeOfTransport]
		,[IsExcluded])
	SELECT
		    X.[RouteID]
		   ,X.[Mode]
           ,0 -- Included
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[RouteID] [NVARCHAR] (20) '../../RouteID',
		[Mode] [NVARCHAR] (20) 'text()'
	) X 

	SET @XMLPathData =  '/SJPTravelCards/Routes/Route/RouteModesExcluded/Mode'

	INSERT INTO [dbo].[SJPRouteModes](
		 [RouteID]
		,[ModeOfTransport]
		,[IsExcluded])
	SELECT
		    X.[RouteID]
		   ,X.[Mode]
           ,1 -- Excluded
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[RouteID] [NVARCHAR] (20) '../../RouteID',
		[Mode] [NVARCHAR] (20) 'text()'
	) X 

	--------------------------------TRAVELCARDS-----------------------------------
	-- Insert SJPTravelcards data
	SET @XMLPathData =  '/SJPTravelCards/TravelCards/TravelCard'

	INSERT INTO [dbo].[SJPTravelcards](
		 [TravelCardID]
		,[TravelCardName]
		,[ValidFrom]
		,[ValidTo])
	SELECT
			X.[TravelCardID]
           ,X.[TravelCardName] 
           ,CAST ((X.[ValidFrom]) AS DATE)
           ,CAST ((X.[ValidTo]) AS DATE)
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[TravelCardID] [NVARCHAR] (20),
		[TravelCardName] [NVARCHAR] (50),
		[ValidFrom] [DATE],
		[ValidTo] [DATE]
	) X 

	-- Insert SJPTravelcardZones data
	SET @XMLPathData =  '/SJPTravelCards/TravelCards/TravelCard/TravelCardZonesIncluded/ZoneID'

	INSERT INTO [dbo].[SJPTravelcardZones](
		 [TravelCardID]
		,[ZoneID]
		,[IsExcluded])
	SELECT
		    X.[TravelCardID]
		   ,X.[ZoneID]
           ,0 -- Included
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[TravelCardID] [NVARCHAR] (20) '../../TravelCardID',
		[ZoneID] [NVARCHAR] (20) 'text()'
	) X
	
	SET @XMLPathData =  '/SJPTravelCards/TravelCards/TravelCard/TravelCardZonesExcluded/ZoneID'

	INSERT INTO [dbo].[SJPTravelcardZones](
		 [TravelCardID]
		,[ZoneID]
		,[IsExcluded])
	SELECT
		    X.[TravelCardID]
		   ,X.[ZoneID]
           ,1 -- Excluded
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[TravelCardID] [NVARCHAR] (20) '../../TravelCardID',
		[ZoneID] [NVARCHAR] (20) 'text()'
	) X 

	-- Insert SJPTravelcardRoutes data
	SET @XMLPathData =  '/SJPTravelCards/TravelCards/TravelCard/TravelCardRoutesIncluded/RouteID'

	INSERT INTO [dbo].[SJPTravelcardRoutes](
		 [TravelCardID]
		,[RouteID]
		,[IsExcluded])
	SELECT
		    X.[TravelCardID]
		   ,X.[RouteID]
           ,0 -- Included
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[TravelCardID] [NVARCHAR] (20) '../../TravelCardID',
		[RouteID] [NVARCHAR] (20) 'text()'
	) X 

	SET @XMLPathData =  '/SJPTravelCards/TravelCards/TravelCard/TravelCardRoutesExcluded/RouteID'

	INSERT INTO [dbo].[SJPTravelcardRoutes](
		 [TravelCardID]
		,[RouteID]
		,[IsExcluded])
	SELECT
		    X.[TravelCardID]
		   ,X.[RouteID]
           ,1 -- Excluded
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(	[TravelCardID] [NVARCHAR] (20) '../../TravelCardID',
		[RouteID] [NVARCHAR] (20) 'text()'
	) X 
		

COMMIT TRANSACTION 

-- Removing xml doc from memory
EXEC sp_xml_removedocument @DocID]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[ImportSJPTravelcardData].[@XML]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZones].[ZoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas].[ZoneAreaID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreas].[IsOuterZoneArea]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints].[ZoneAreaID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints].[Easting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints].[Northing]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneModes].[IsExcluded]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops].[NaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPZoneStops].[IsExcluded]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRoutes].[RouteName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones].[IsEndA]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops].[NaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops].[IsEndA]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPRouteModes].[IsExcluded]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[TravelCardName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[ValidFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcards].[ValidTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones].[ZoneID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones].[IsExcluded]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes].[TravelCardID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes].[RouteID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes].[IsExcluded]" />
				</Entry>
				<Entry />
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ImportSJPTravelcardData].[@XML]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="10048" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ImportSJPTravelcardData]&#xD;&#xA;(&#xD;&#xA;&#x9;@XML text&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ImportSJPTravelNewsData]">
			<Property Name="BodyScript">
				<Value><![CDATA[

SET NOCOUNT ON
SET XACT_ABORT ON

BEGIN TRANSACTION

DECLARE @DocID int
DECLARE @Version varchar(20)
DECLARE @RowCount int

EXEC sp_xml_preparedocument @DocID OUTPUT, @XML

SET @Version = NULL

SELECT TOP 1
	@Version = Version
FROM
OPENXML (@DocID, '/TrafficAndTravelNewsData', 2)
WITH
(
	Version varchar(50) '@version'
)

IF @Version IS NULL OR @Version <> 'IF15102'
BEGIN
	EXEC sp_xml_removedocument @DocID
	RAISERROR('The stored procedure ImportSJPTravelNewsData did not recognise the given XML file version', 11, 1)
END
ELSE
BEGIN
	SET @RowCount = 0

	DELETE FROM TravelNewsDataSource
	DELETE FROM TravelNewsRegion
	DELETE FROM TravelNews
	DELETE FROM TravelNewsToid
	DELETE FROM TravelNewsVenue

	INSERT INTO TravelNews
	(
		[UID],
		SeverityLevel,
		SeverityLevelOlympic,
		PublicTransportOperator,
		ModeOfTransport,
		Location,
		IncidentType,
		HeadlineText,
		DetailText,
		TravelAdviceOlympicText,
		IncidentStatus,
		Easting,
		Northing,
		ReportedDateTime,
		StartDateTime,
		LastModifiedDateTime,
		ClearedDateTime,
		ExpiryDateTime,
		PlannedIncident,
		RoadType,
		IncidentParent,
		CarriagewayDirection,
		RoadNumber,
		DayMask,
		DailyStartTime,
		DailyEndTime,
		ItemChangeStatus
	)
	SELECT DISTINCT
		X.[UID],
		TNS.SeverityID,
		TNSO.SeverityID,
		X.PublicTransportOperator,
		X.ModeOfTransport,
		X.Location,
		X.IncidentType,
		X.HeadlineText,
		X.DetailText,
		X.TravelAdviceOlympicText,
		X.IncidentStatus,
		X.Easting,
		X.Northing,
		X.ReportedDateTime,
		X.StartDateTime,
		X.LastModifiedDateTime,
		X.ClearedDateTime,
		X.ExpiryDateTime,
		CASE X.PlannedIncident WHEN 'true' THEN 1 ELSE 0 END,
		X.RoadType,
		X.IncidentParent,
		X.CarriagewayDirection,
		X.RoadNumber,
		X.DayMask,
		X.DailyStartTime,
		X.DailyEndTime,
		X.ItemChangeStatus
	FROM
	OPENXML (@DocID, '/TrafficAndTravelNewsData/Incident', 2)
	WITH
	(
		[UID] varchar(25) '@uid',
		SeverityLevel varchar(15) '@severity',
		SeverityLevelOlympic varchar(15) '@OlympicSeverity',
		PublicTransportOperator varchar(100) '@publicTransportOperator',
		ModeOfTransport varchar(50) '@modeOfTransport',
		Location varchar(100) '@location',
		IncidentType varchar(60) '@incidentType',
		HeadlineText varchar(150) '@headlineText',
		DetailText varchar(350) '@detailText',
		TravelAdviceOlympicText varchar(350) '@OlympicTravelAdvice',
		IncidentStatus varchar(1) '@incidentStatus',
		Easting decimal(18, 6) '@easting',
		Northing decimal(18, 6) '@northing',
		ReportedDateTime datetime '@reportedDatetime',
		StartDateTime datetime '@startDatetime',
		LastModifiedDateTime datetime '@lastModifiedDatetime',
		ClearedDateTime datetime '@clearedDatetime',
		ExpiryDateTime datetime '@expiryDatetime',
		PlannedIncident varchar(5) '@plannedIncident',
		RoadType varchar(10) '@roadType',
		IncidentParent varchar(25) '@parent_uid',
		CarriagewayDirection varchar(15) '@carriageway_direction',
		RoadNumber varchar(25) '@road_number',
		DayMask varchar(14) '@daymask',
		DailyStartTime time(7) '@daily_startDatetime',
		DailyEndTime time(7) '@daily_endDatetime',
		ItemChangeStatus varchar(9) '@incident_change_status'
	) X
	INNER JOIN TravelNewsSeverity TNS ON X.SeverityLevel = TNS.SeverityDescription
	INNER JOIN TravelNewsSeverity TNSO ON X.SeverityLevelOlympic = TNSO.SeverityDescription

	SET @RowCount = @@ROWCOUNT

	-- Regions for Incident
	INSERT INTO TravelNewsRegion
	(
		[UID],
		RegionName
	)
	SELECT DISTINCT
		[UID],
		CASE RegionName WHEN 'East' THEN 'East Anglia' ELSE RegionName END
	FROM
	OPENXML (@DocID, '/TrafficAndTravelNewsData/Incident/Region', 2)
	WITH
	(
		UID varchar(25) '@uid',
		RegionName varchar(50) '@regionName'
	)

	IF @@ROWCOUNT = 0
		SET @RowCount = 0

	UPDATE TravelNews
	SET Regions = ISNULL(TNR.Regions, '-')
	FROM TravelNews TN
	LEFT OUTER JOIN fn_TravelNewsRegion() TNR ON TN.UID = TNR.UID COLLATE database_default

	IF @@ROWCOUNT = 0
		SET @RowCount = 0


	-- Data Sources for Incident
	INSERT INTO TravelNewsDataSource
	(
		UID,
		DataSourceId
	)
	SELECT DISTINCT
		UID,
		DataSourceId
	FROM
		OPENXML (@DocID, '/TrafficAndTravelNewsData/Incident/IncidentDataSource', 2)
		WITH
		(
			UID varchar(25) '../@uid',
			DataSourceId varchar(50) 'text()'
		)


	IF @@ROWCOUNT = 0
		SET @RowCount = 0
		
	-- Toids affected for Incident
	INSERT INTO TravelNewsToid (
		TOID, 
		[UID])
	SELECT DISTINCT
		X.TOID, 
		X.[UID]
	FROM
		OPENXML (@DocID, '/TrafficAndTravelNewsData/Incident/TOIDsAffected/TOIDAffected', 2)
		WITH
		(
			TOID varchar(25) 'text()',
			[UID] varchar(25) '../../@uid'
		) X

	IF @@ROWCOUNT = 0
		SET @RowCount = 0
		
	-- Venues affected for Incident
	INSERT INTO TravelNewsVenue (
		VenueNaPTAN, 
		[UID])
	SELECT DISTINCT
		X.VenueNaPTAN, 
		X.[UID]
	FROM
		OPENXML (@DocID, '/TrafficAndTravelNewsData/Incident/VenuesAffected/VenueAffected', 2)
		WITH
		(
			VenueNaPTAN varchar(25) 'text()',
			[UID] varchar(25) '../../@uid'
		) X


	EXEC sp_xml_removedocument @DocID
	

	IF @@ERROR<>0
	ROLLBACK TRANSACTION
	ELSE
	BEGIN
		COMMIT TRANSACTION		
		
		UPDATE ChangeNotification
		SET Version = Version + 1
		WHERE [Table] = 'TravelNewsImport'
	END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[ImportSJPTravelNewsData].[@XML]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsRegion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsToid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsVenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevelOlympic]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[PublicTransportOperator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Location]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[HeadlineText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DetailText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[TravelAdviceOlympicText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Easting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Northing]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ReportedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[StartDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[LastModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ClearedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ExpiryDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[PlannedIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[RoadType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[CarriagewayDirection]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[RoadNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DayMask]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DailyStartTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DailyEndTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ItemChangeStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityDescription]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityDescription]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityID]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[TravelNewsRegion].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsRegion].[RegionName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fn_TravelNewsRegion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fn_TravelNewsRegion].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Regions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fn_TravelNewsRegion].[Regions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[DataSourceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsToid].[TOID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsToid].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsVenue].[VenueNaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsVenue].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ImportSJPTravelNewsData].[@XML]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5384" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ImportSJPTravelNewsData]&#xD;&#xA;&#x9;@XML text&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ImportSJPUndergroundStatusData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
/*
SP Name: [[ImportSJPUndergroundStatusData]]
Input : XML
Output: None
Description:  It takes XML data as string and inserts the data into [UndergroundStatus]
*/

SET NOCOUNT ON
SET XACT_ABORT ON

BEGIN TRANSACTION

DECLARE @DocID int
DECLARE @Version varchar(20)
DECLARE @RowCount int
DECLARE @XMLPathData varchar(200)

-- Loading xml document 
EXEC sp_xml_preparedocument @DocID OUTPUT, @XML

-- Starting trasaction 
BEGIN
	SET @RowCount = 0

	-- Delete existing data
	DELETE FROM [UndergroundStatus]

	SET @XMLPathData =  '/ArrayOfLineStatus/LineStatus'

	INSERT INTO [UndergroundStatus]
	(
		[LineStatusId], 
		[LineStatusDetails],
		[LineId], 
		[LineName], 
		[StatusId], 
		[StatusDescription], 
		[StatusIsActive], 
		[StatusCssClass]
	)
	SELECT DISTINCT
		X.[LineStatusId],
		X.[LineStatusDetails],
		X.[LineID],
		X.[LineName],
		X.[StatusId],
		X.[StatusDescription],
		CASE X.[StatusIsActive] WHEN 'true' THEN 1 ELSE 0 END AS [StatusIsActive],
		X.[StatusCssClass]
	FROM
	OPENXML (@DocID, @XMLPathData, 2)
	WITH
	(
		[LineStatusId] varchar(10) '@ID',
		[LineStatusDetails] varchar(300) '@StatusDetails',
		[LineID] varchar(10) './Line/@ID',
		[LineName] varchar(30) './Line/@Name',
		[StatusId] varchar(100) './Status/@ID',
		[StatusDescription] varchar(30) './Status/@Description',
		[StatusIsActive] varchar(5) './Status/@IsActive',
		[StatusCssClass] varchar(30) './Status/@CssClass'
	) X
	
	SET @RowCount = @@ROWCOUNT
		
	EXEC sp_xml_removedocument @DocID
	

	IF @@ERROR<>0
	ROLLBACK TRANSACTION
	ELSE
	BEGIN
		COMMIT TRANSACTION		
		
		UPDATE ChangeNotification
		SET Version = Version + 1
		WHERE [Table] = 'UndergroundStatusImport'
	END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[ImportSJPUndergroundStatusData].[@XML]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineStatusDetails]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[LineName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusIsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UndergroundStatus].[StatusCssClass]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[ChangeNotification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ImportSJPUndergroundStatusData].[@XML]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1817" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ImportSJPUndergroundStatusData]&#xD;&#xA;(&#xD;&#xA;&#x9;@XML text&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[IsTravelNewsItemActive]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsTravelNewsItemActive].[@NewsItemStartTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsTravelNewsItemActive].[@NewsItemEndTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsTravelNewsItemActive].[@NewsItemDaymask]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[IsTravelNewsItemActive].[@ComparisonDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
		--Clean up input parameters - Default to active all the time so we will SHOW incidents if no details given
	If @NewsItemStartTime IS NULL
		BEGIN
			SET @NewsItemStartTime = '00:00:00'
		END
	If @NewsItemEndTime IS NULL
		BEGIN
			SET @NewsItemEndTime = '23:59:59'
		END
	If (@NewsItemDaymask = '' OR  @NewsItemDaymask IS NULL)
		BEGIN
			SET @NewsItemDaymask = 'SuMoTuWeThFrSa'
		END

	DECLARE @COMPARISONTIME TIME, @NewsItemStartTimeAdjusted TIME
	DECLARE @COMPARISONDAY CHAR(2), @COMPARISONDAYMINUS1 CHAR(2)
	DECLARE @ADVANCEDNOTIFICATIONMINS INT, @RETURNVAL BIT
	
	
	--Adjust Start time for the advanced notification period defined in Properties DB
	SET @ADVANCEDNOTIFICATIONMINS = ISNULL((SELECT pValue FROM [SJPConfiguration].[dbo].[properties] WHERE pName = 'TravelNews.IncidentStatus.Active.AdvancedNotification.Minutes'),0) 
	SET @NewsItemStartTimeAdjusted = DATEADD(mi,(0-@ADVANCEDNOTIFICATIONMINS), @NewsItemStartTime)
	If (@NewsItemStartTimeAdjusted > @NewsItemStartTime)
		--If start time after adjustment > orig start time we've gone back over midnight
		--dont want to do that so just set it to midnight
		BEGIN
			SET @NewsItemStartTimeAdjusted = '00:00:00'
		END
	--Get time part of comparison date by simply putting it in TIME data type
	SET @COMPARISONTIME = @ComparisonDate
	--Get 2 char day parts for comparison
	SET @COMPARISONDAY = LEFT(DATENAME(dw, @ComparisonDate),2)
	SET @COMPARISONDAYMINUS1 = LEFT(DATENAME(dw, DATEADD(day, -1, @ComparisonDate)),2)

	If (@NewsItemStartTime > @NewsItemEndTime ) 
		--Start time is after end time - overmidnight incident
		BEGIN
			--Return true if day matches and time between news start time and midnight...
			If (CHARINDEX(@COMPARISONDAY,@NewsItemDaymask) <> 0   
				AND @COMPARISONTIME > @NewsItemStartTimeAdjusted)  
				--or if day - 1 matches and time is between midnight and news end time...
				OR (CHARINDEX(@COMPARISONDAYMINUS1,@NewsItemDaymask) <> 0 
					AND @COMPARISONTIME < @NewsItemEndTime)
					SET @RETURNVAL = 1
			Else
				--return false
					SET @RETURNVAL = 0
		END
	Else
		--Start time before end time - nice and simple not overmidnight
		BEGIN
			--Return true if day matches and time between news 
			--item start time and news item end time...
			If (CHARINDEX(@COMPARISONDAY,@NewsItemDaymask) <> 0 
				AND (@COMPARISONTIME BETWEEN @NewsItemStartTimeAdjusted AND @NewsItemEndTime))  
					SET @RETURNVAL = 1
			Else
					SET @RETURNVAL = 0
		END
	RETURN @RETURNVAL
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="2715" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[IsTravelNewsItemActive]&#xD;&#xA;(&#x9;&#xD;&#xA;&#x9;@NewsItemDaymask&#x9;varchar(14), &#xD;&#xA;&#x9;@NewsItemStartTime&#x9;TIME, &#xD;&#xA;&#x9;@NewsItemEndTime&#x9;TIME,&#xD;&#xA;&#x9;@ComparisonDate    DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS Bit&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsTravelNewsItemActive].[@NewsItemDaymask]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="14" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsTravelNewsItemActive].[@NewsItemStartTime]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="7" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsTravelNewsItemActive].[@NewsItemEndTime]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="7" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsTravelNewsItemActive].[@ComparisonDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[dbo].[IX_TravelNewsSeverity]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsSeverity].[SeverityDescription]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_AdminAreas]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AdminAreas].[AdministrativeAreaCode]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AdminAreas]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ChangeNotification]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ChangeNotification].[Table]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ChangeNotification]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="6" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_CycleAttribute]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CycleAttribute].[CycleAttributeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CycleAttribute]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="7" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Districts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Districts].[DistrictCode]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Districts]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[pk_DropDownLists]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DropDownLists].[DataSet]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DropDownLists].[ResourceID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DropDownLists]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="8" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPEventDates]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPEventDates].[EventDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPEventDates]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPRouteEndStops]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRouteEndStops].[RouteID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRouteEndStops].[NaPTAN]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPRouteEndStops]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPRouteEndZones]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRouteEndZones].[RouteID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRouteEndZones].[ZoneID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPRouteEndZones]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPRouteModes]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRouteModes].[RouteID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRouteModes].[ModeOfTransport]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPRouteModes]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPRoutes]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPRoutes].[RouteID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPRoutes]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPTravelcardRoutes]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPTravelcardRoutes].[TravelCardID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPTravelcardRoutes].[RouteID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPTravelcardRoutes]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPTravelcards]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPTravelcards].[TravelCardID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPTravelcards]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPTravelcardZones]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPTravelcardZones].[TravelCardID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPTravelcardZones].[ZoneID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPTravelcardZones]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPZoneAreaPoints]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneAreaPoints].[ZoneAreaID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneAreaPoints].[Easting]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneAreaPoints].[Northing]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPZoneAreaPoints]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPZoneAreas]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneAreas].[ZoneAreaID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneAreas].[ZoneID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPZoneAreas]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPZoneModes]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneModes].[ZoneID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneModes].[ModeOfTransport]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPZoneModes]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPZones]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZones].[ZoneID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPZones]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SJPZoneStops]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneStops].[ZoneID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SJPZoneStops].[NaPTAN]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SJPZoneStops]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_StopAccessibilityLinks]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StopAccessibilityLinks].[StopNaPTAN]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StopAccessibilityLinks].[StopOperator]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StopAccessibilityLinks].[LinkUrl]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StopAccessibilityLinks].[WEFDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StopAccessibilityLinks].[WEUDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StopAccessibilityLinks]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TravelNews]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNews].[UID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TravelNewsDataSource]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsDataSource].[UID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsDataSource].[DataSourceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TravelNewsRegion]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsRegion].[UID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsRegion].[RegionName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsRegion]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TravelNewsSeverity]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsSeverity].[SeverityID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TravelNewsToid]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsToid].[TOID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsToid].[UID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsToid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TravelNewsVenue]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsVenue].[VenueNaPTAN]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TravelNewsVenue].[UID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TravelNewsVenue]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_UndergroundStatus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UndergroundStatus].[LineStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UndergroundStatus].[LineId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UndergroundStatus].[StatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UndergroundStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_VersionInfo]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[VersionInfo].[DatabaseVersionInfo]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[VersionInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPEventDates]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPEventDates].[EventDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="10" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPRouteEndStops]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteEndStops].[RouteID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteEndStops].[NaPTAN]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteEndStops].[IsEndA]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPRouteEndZones]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteEndZones].[RouteID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteEndZones].[ZoneID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteEndZones].[IsEndA]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPRouteModes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteModes].[RouteID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteModes].[ModeOfTransport]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRouteModes].[IsExcluded]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPRoutes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRoutes].[RouteID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPRoutes].[RouteName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[SJPSplit]">
			<Property Name="ReturnTableVariable" Value="@returntable" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SJPSplit].[@SplitOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPSplit].[@List]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPSplit].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SJPSplit].[Value]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPSplit].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPSplit].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
		While (Charindex(@SplitOn,@List)>0)
		Begin

			Insert Into @returntable (value)
			Select 
				Value = ltrim(rtrim(Substring(@List,1,Charindex(@SplitOn,@List)-1)))

			Set @List = Substring(@List,Charindex(@SplitOn,@List)+len(@SplitOn),len(@List))
		End

		Insert Into @returntable (Value)
		Select Value = ltrim(rtrim(@List))
	
		Return
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="537" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[SJPSplit]&#xD;&#xA;(&#xD;&#xA;&#x9;@List nvarchar(2000),&#xD;&#xA;&#x9;@SplitOn nvarchar(5)&#xD;&#xA;)&#xD;&#xA;RETURNS @returntable TABLE &#xD;&#xA;(&#xD;&#xA;&#x9;Id int identity(1,1),&#xD;&#xA;&#x9;Value nvarchar(100)&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SJPSplit].[@List]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SJPSplit].[@SplitOn]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="5" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPTravelcardRoutes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcardRoutes].[TravelCardID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcardRoutes].[RouteID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcardRoutes].[IsExcluded]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPTravelcards]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcards].[TravelCardID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcards].[TravelCardName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcards].[ValidFrom]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcards].[ValidTo]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPTravelcardZones]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcardZones].[TravelCardID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcardZones].[ZoneID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPTravelcardZones].[IsExcluded]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPZoneAreaPoints]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneAreaPoints].[ZoneAreaID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneAreaPoints].[Easting]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneAreaPoints].[Northing]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPZoneAreas]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneAreas].[ZoneAreaID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneAreas].[ZoneID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneAreas].[IsOuterZoneArea]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPZoneModes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneModes].[ZoneID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneModes].[ModeOfTransport]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneModes].[IsExcluded]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPZones]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZones].[ZoneID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZones].[ZoneName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SJPZoneStops]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneStops].[ZoneID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneStops].[NaPTAN]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SJPZoneStops].[IsExcluded]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[StopAccessibilityLinks]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[StopAccessibilityLinks].[StopNaPTAN]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[StopAccessibilityLinks].[StopName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[StopAccessibilityLinks].[StopOperator]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[StopAccessibilityLinks].[LinkUrl]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[StopAccessibilityLinks].[WEFDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[StopAccessibilityLinks].[WEUDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[StripNaptan]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StripNaptan].[@NaptanPlaceName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StripNaptan].[@Delimitter]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @CharPosition int 	
	DECLARE @tempNaptanPlaceName varchar(100)
	DECLARE @returnVal  varchar(20)
	
	SET @tempNaptanPlaceName = ISNULL(@NaptanPlaceName, '')
	
	IF LEN(@tempNaptanPlaceName) > 0
		BEGIN
			SET @CharPosition = CHARINDEX(@Delimitter, @tempNaptanPlaceName)	

			IF (@CharPosition > 0)
				SET @returnVal =  SUBSTRING(@tempNaptanPlaceName, 1, @CharPosition-1)
			ELSE
				SET @returnVal = @tempNaptanPlaceName
		END 
	ELSE
		SET @returnVal = ''
	
	RETURN @returnVal
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="641" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[StripNaptan]&#xD;&#xA;(&#xD;&#xA;&#x9;@NaptanPlaceName varchar(100), &#xD;&#xA;&#x9;@Delimitter varchar(10)&#xD;&#xA;)&#xD;&#xA;RETURNS varchar(20)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[StripNaptan].[@NaptanPlaceName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[StripNaptan].[@Delimitter]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Length" Value="20" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNews]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[UID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[SeverityLevel]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[SeverityLevelOlympic]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[PublicTransportOperator]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[ModeOfTransport]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[Regions]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[Location]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[IncidentType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="60" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[HeadlineText]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[DetailText]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="350" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[TravelAdviceOlympicText]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="350" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[IncidentStatus]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[Easting]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="6" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[Northing]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="6" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[ReportedDateTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[StartDateTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[LastModifiedDateTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[ClearedDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[ExpiryDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[PlannedIncident]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[RoadType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[IncidentParent]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[CarriagewayDirection]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[RoadNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[DayMask]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="14" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[DailyStartTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="7" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[DailyEndTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="7" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNews].[ItemChangeStatus]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="9" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="11" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TravelNewsAll]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SELECT
		TN.UID,
		TN.SeverityLevel,
		TNS.SeverityDescription,
		TN.SeverityLevelOlympic,
		TNSO.SeverityDescription SeverityDescriptionOlympic,
		TN.PublicTransportOperator,
		ISNULL(TN.PublicTransportOperator, '-') Operator,
		TN.ModeOfTransport,
		TN.Regions,
		TN.Location,
		TN.Regions + ' (' + TN.Location + ')' RegionsLocation,
		TN.IncidentType,
		TN.HeadlineText,
		TN.DetailText,
		TN.TravelAdviceOlympicText,
		TN.IncidentStatus,
		TN.Easting,
		TN.Northing,
		TN.ReportedDateTime,
		TN.StartDateTime,
		DateDiff(mi, TN.StartDateTime, GetDate()) StartToNowMinDiff,
		TN.LastModifiedDateTime,
		TN.ClearedDateTime,
		TN.ExpiryDateTime,
		TN.PlannedIncident,
		TN.RoadType,
		TN.IncidentParent,
		TN.CarriagewayDirection,
		TN.RoadNumber,
		TN.DayMask,
		TN.DailyStartTime,
		TN.DailyEndTime,
		TN.ItemChangeStatus,
		dbo.IsTravelNewsItemActive(TN.DayMask,TN.DailyStartTime, TN.DailyEndTime,GETDATE()) IncidentActiveStatus
	FROM (
			(
				(
					(
						TravelNews TN 
					
						INNER JOIN TravelNewsSeverity TNS ON TN.SeverityLevel = TNS.SeverityID
					)
					INNER JOIN TravelNewsSeverity TNSO ON TN.SeverityLevelOlympic = TNSO.SeverityID
				)
				INNER JOIN TravelNewsDataSource TNDS1 ON TN.UID = TNDS1.UID
			)
			INNER JOIN TravelNewsDataSources TNDSS ON TNDS1.DataSourceId = TNDSS.DataSourceId
		 )
	WHERE TNDSS.Trusted = 1
	ORDER BY SeverityLevel ASC, StartDateTime DESC

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevelOlympic]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[DataSourceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources].[DataSourceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevelOlympic]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsSeverity].[SeverityDescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[PublicTransportOperator]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Regions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Location]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[HeadlineText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DetailText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[TravelAdviceOlympicText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Easting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Northing]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ReportedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[StartDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[LastModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ClearedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ExpiryDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[PlannedIncident]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[RoadType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[CarriagewayDirection]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[RoadNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DayMask]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DailyStartTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DailyEndTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ItemChangeStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsTravelNewsItemActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources].[Trusted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[StartDateTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1503" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TravelNewsAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNewsDataSource]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsDataSource].[UID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsDataSource].[DataSourceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="12" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNewsDataSources]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsDataSources].[DataSourceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsDataSources].[DataSourceName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsDataSources].[Trusted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="5" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TravelNewsHeadlines]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SELECT
		TN.UID,
		TN.SeverityLevel,
		TN.HeadlineText,
		TN.SeverityLevel,
		TN.ModeOfTransport,
		TN.Regions,
		DateDiff(mi, TN.StartDateTime, GetDate()) StartToNowMinDiff
	FROM TravelNews TN
	WHERE TN.SeverityLevel < 4
	  AND TN.SeverityLevel <> 1
	  AND TN.StartDateTime <=getdate() 
	  AND TN.ExpiryDateTime >=getdate()
	  AND TN.IncidentStatus ='O'
	  AND ISNULL(TN.IncidentParent,'0') IN ('0','')
	  AND [dbo].IsTravelNewsItemActive(TN.DayMask,TN.DailyStartTime, TN.DailyEndTime,GETDATE()) = 1
			AND EXISTS (SELECT * FROM TravelNewsDataSource TNDS1
					INNER JOIN TravelNewsDataSources TNDSS
					ON TNDS1.DataSourceId = TNDSS.DataSourceId
					WHERE TNDS1.UID = TN.UID AND TNDSS.Trusted = 1)
	ORDER BY TN.SeverityLevel ASC, TN.StartDateTime DESC

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TravelNews]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[SeverityLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[HeadlineText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ModeOfTransport]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[Regions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[StartDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[ExpiryDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[IncidentParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsTravelNewsItemActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DayMask]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DailyStartTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[DailyEndTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[DataSourceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources].[DataSourceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSource].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNews].[UID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsDataSources].[Trusted]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="842" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TravelNewsHeadlines]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNewsRegion]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsRegion].[UID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsRegion].[RegionName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="13" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNewsSeverity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsSeverity].[SeverityID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsSeverity].[SeverityDescription]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="14" />
			<AttachedAnnotation Disambiguator="9" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNewsToid]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsToid].[TOID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsToid].[UID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TravelNewsVenue]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsVenue].[VenueNaPTAN]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TravelNewsVenue].[UID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TravelNewsVenues]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	
	SELECT [VenueNaPTAN], 
		   [UID]
	  FROM [TravelNewsVenue]

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TravelNewsVenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsVenue].[VenueNaPTAN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TravelNewsVenue].[UID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="126" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TravelNewsVenues]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[UndergroundStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[LineStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[LineStatusDetails]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[LineId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[LineName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[StatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[StatusDescription]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[StatusIsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UndergroundStatus].[StatusCssClass]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[UpdateChangeNotificationTable]">
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN 

    CREATE TABLE #updateTables 
	(
		tablename varchar(100) COLLATE database_default NOT NULL
	)
			    
	DECLARE @currTable varchar(100), @pos int 
        
    SET @tableList = LTRIM(RTRIM(@tableList)) + ',' 
    SET @pos = CHARINDEX(',', @tableList, 1) 
        
    IF REPLACE(@tableList, ',', '') <> '' 
        BEGIN 
            WHILE @pos > 0 
                BEGIN 
                    SET @currTable = LTRIM(RTRIM(LEFT(@tableList, @pos - 1))) 
                    IF @currTable <> '' 
                       BEGIN 
                          INSERT INTO #updateTables VALUES (@currTable) 
                       END 
                    SET @tableList = RIGHT(@tableList, LEN(@tableList) - @pos) 
                    SET @pos = CHARINDEX(',', @tableList, 1) 
                END 
        END 

    BEGIN TRANSACTION

	-- Update tables that did exist
    UPDATE [dbo].[ChangeNotification]
    SET    [version] = [version] + 1 
    WHERE  [table] in 
            (SELECT tablename FROM #updateTables) 

    -- Add tables that didn't previously exist
    INSERT INTO [dbo].[ChangeNotification] ([table], [version])
    SELECT 		tablename, 1 
    FROM		#updateTables
    WHERE 		not EXISTS(SELECT * 
							 FROM [dbo].[ChangeNotification] CN
							WHERE CN.[Table] = #updateTables.tablename)
    
    COMMIT TRANSACTION
    
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateChangeNotificationTable].[@tableList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateChangeNotificationTable].[#updateTables]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateChangeNotificationTable].[#updateTables].[tablename]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateChangeNotificationTable].[#updateTables].[tablename]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeNotification].[Table]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateChangeNotificationTable].[#updateTables].[tablename]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[UpdateChangeNotificationTable].[#updateTables]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[UpdateChangeNotificationTable].[#updateTables].[tablename]">
									<Property Name="Collation" Value="database_default" />
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[UpdateChangeNotificationTable].[@tableList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1484" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateChangeNotificationTable]&#xD;&#xA;( &#xD;&#xA;&#x9;@tableList varchar(1000) &#xD;&#xA;) &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[VersionInfo]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[VersionInfo].[DatabaseVersionInfo]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90User" Name="[SJP_User]">
			<Property Name="LoginIdentifierScript">
				<Value><![CDATA[[SJP_User]]]></Value>
			</Property>
			<Relationship Name="Login">
				<Entry>
					<References ExternalSource="SJPServerDatabase.dbschema" Name="[master]|[SJP_User]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>